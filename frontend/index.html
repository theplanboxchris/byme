<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Keyword Manager</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
</head>
    <body class="min-h-screen bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-400 flex items-center justify-center py-8">
    <div class="max-w-xl w-full mx-auto bg-white/90 rounded-2xl shadow-2xl overflow-hidden border border-gray-200 backdrop-blur-lg">
        <div class="bg-gradient-to-r from-indigo-700 via-purple-700 to-pink-600 text-white p-7 text-center shadow-md">
            <h1 class="text-3xl font-extrabold mb-2 tracking-tight drop-shadow">üîó Keyword Manager</h1>
            <p class="opacity-90 text-base font-medium">Select keywords for your BLE proximity device</p>
        </div>
        
    <div class="p-7">
            <!-- Add Keyword Section -->
            <div class="mb-10">
                <h2 class="text-xl mb-4 text-gray-800 font-bold tracking-tight">‚ûï Add New Keyword</h2>
                <div class="flex flex-wrap gap-3 mb-5">
                    <input type="text" id="newKeyword" placeholder="Enter keyword..." maxlength="50" class="flex-1 min-w-[120px] p-3 border border-gray-300 rounded-lg text-base shadow focus:ring-2 focus:ring-pink-400 focus:outline-none transition" />
                    <select id="newCategory" class="flex-1 min-w-[120px] p-3 border border-gray-300 rounded-lg text-base shadow focus:ring-2 focus:ring-purple-400 focus:outline-none transition">
                        <option value="general">General</option>
                        <option value="maritime">Maritime</option>
                        <option value="weather">Weather</option>
                        <option value="emergency">Emergency</option>
                        <option value="activities">Activities</option>
                        <option value="technology">Technology</option>
                    </select>
                    <button onclick="addKeyword()" class="p-3 px-6 bg-gradient-to-r from-emerald-500 to-emerald-700 text-white rounded-lg text-base font-semibold whitespace-nowrap shadow hover:scale-105 hover:from-emerald-600 hover:to-emerald-800 transition-transform duration-150">Add</button>
                </div>
                <div id="addError" class="bg-red-50 border border-red-400 text-red-700 p-2 rounded-lg mb-4 shadow-sm" style="display: none;"></div>
            </div>
            
            <!-- Filter Section -->
            <div class="mb-10">
                <h2 class="text-xl mb-4 text-gray-800 font-bold tracking-tight">üîç Browse Keywords</h2>
                <div class="flex flex-wrap gap-3 mb-5">
                    <input type="text" id="searchKeyword" placeholder="Search keywords..." onkeyup="filterKeywords()" class="flex-1 min-w-[120px] p-2 border border-gray-300 rounded-lg shadow focus:ring-2 focus:ring-indigo-400 focus:outline-none transition" />
                    <select id="filterCategory" onchange="filterKeywords()" class="flex-1 min-w-[120px] p-2 border border-gray-300 rounded-lg shadow focus:ring-2 focus:ring-pink-400 focus:outline-none transition">
                        <option value="">All Categories</option>
                    </select>
                </div>
                <div id="keywordList" class="text-center p-5 text-gray-500 rounded-lg bg-gray-50 shadow-inner">Loading keywords...</div>
            </div>
            
            <!-- Device Connection Section -->
            <div class="mb-10">
                <h2 class="text-xl mb-4 text-gray-800 font-bold tracking-tight">ÔøΩ Device Connection</h2>
                <div id="connectionStatus" class="bg-blue-100 text-blue-800 p-4 rounded-xl mb-5 text-center font-semibold shadow">No device connected</div>
                <div class="text-center">
                    <button class="bg-gradient-to-r from-pink-500 to-red-600 text-white rounded-xl text-lg font-bold w-full mb-4 py-4 px-8 shadow-lg hover:scale-105 hover:from-pink-600 hover:to-red-700 transition-transform duration-150 disabled:bg-gray-400 disabled:cursor-not-allowed" onclick="sendKeywordsOnce()">
                        üì§ Send Keywords to Device
                    </button>
                    <div id="sendKeywordsMessage" class="mt-2 p-3 rounded-xl font-medium text-center shadow" style="display: none;"></div>
                    <div id="transferStatus" class="bg-yellow-100 border border-yellow-400 rounded-xl p-4 text-sm leading-relaxed shadow-inner" style="display: none;">
                        <h3 class="text-yellow-800 mb-2 font-semibold">üìä Transfer Status:</h3>
                        <div id="transferMessage">Ready to transfer...</div>
                        <details class="mt-4">
                            <summary class="cursor-pointer font-bold text-gray-600">üîß Debug Console</summary>
                            <div id="debugConsole" class="bg-gray-800 text-gray-100 p-3 rounded font-mono text-xs max-h-[150px] overflow-y-auto mt-2 whitespace-pre-wrap">Debug information will appear here...</div>
                        </details>
                    </div>
                    <div class="bg-yellow-50 border border-yellow-400 rounded-xl p-4 text-sm mt-4 shadow">
                        <h3 class="text-yellow-800 mb-2 font-semibold">üìã How to Use:</h3>
                        <ol class="ml-5 list-decimal">
                            <li>Select keywords from the list above</li>
                            <li>Click "Send Keywords to Device"</li>
                            <li>Device will automatically start scanning with new keywords</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="frontend.js"> </script>
</body>
</html>